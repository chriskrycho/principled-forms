<h2>Inline</h2>

{{#docs-demo as |demo|}}
  <div class="demo-heading">
    <h3><code>name</code></h3>
    <p>
      Required: {{this.user.name.isRequired}}<br>
      Value: {{this.user.name.value}}<br>
      Validity: {{this.user.name.validity.type}}<br>
    </p>
  </div>
  {{#demo.example name='inline-required-text-form-field.hbs'}}
    <FormField
        @label='Name'
        @model={{this.user.name}}
        @onChange={{action this.handleChange 'name'}}
        @onInput={{action this.handleInput 'name'}}
        @labelClass='label'
        @inputClass='input'
        @errorClass='error'
    />
  {{/demo.example}}

  {{demo.snippet 'inline-required-text-form-field.hbs'}}
{{/docs-demo}}

{{#docs-demo as |demo|}}
  <div class='demo-heading'>
    <h3><code>secondaryName</code></h3>
    <p>
      Required: {{this.user.secondaryName.isRequired}}<br>
      Value: {{this.user.secondaryName.value}}<br>
      Validity: {{this.user.secondaryName.validity.type}}<br>
    </p>
  </div>

  {{#demo.example name='inline-optional-text-form-field.hbs'}}
    <FormField
        @label='Secondary Name'
        @model={{this.user.secondaryName}}
        @onInput={{action this.handleInput 'secondaryName'}}
        @labelClass='label'
        @inputClass='input'
        @errorClass='error'
    />
  {{/demo.example}}

  {{demo.snippet 'inline-optional-text-form-field.hbs'}}
{{/docs-demo}}

{{#docs-demo as |demo|}}
  <div class='demo-heading'>
    <h3><code>email</code> (required)</h3>
    <p>
      Required: {{this.user.emailReq.isRequired}}<br>
      Value: {{this.user.emailReq.value}}<br>
      Validity: {{this.user.emailReq.validity.type}}<br>
    </p>
  </div>

  {{#demo.example name='inline-required-email-form-field.hbs'}}
    <FormField
        @label='Email (Required)'
        @model={{this.user.emailReq}}
        @onChange={{action this.handleChange 'emailReq'}}
        @onInput={{action this.handleInput 'emailReq'}}
        @labelClass='label'
        @inputClass='input'
        @errorClass='error'
    />
  {{/demo.example}}

  {{demo.snippet 'inline-required-email-form-field.hbs'}}
{{/docs-demo}}

{{#docs-demo as |demo|}}
  <div class='demo-heading'>
    <h3><code>email</code> (optional)</h3>
    <p>
      Required: {{this.user.emailOpt.isRequired}}<br>
      Value: {{this.user.emailOpt.value}}<br>
      Validity: {{this.user.emailOpt.validity.type}}<br>
    </p>
  </div>

  {{#demo.example name='inline-optional-email-form-field.hbs'}}
    <FormField
        @label='Email (Optional)'
        @model={{this.user.emailOpt}}
        @onInput={{action this.handleInput 'emailOpt'}}
        @labelClass='label'
        @inputClass='input'
        @errorClass='error'
    />
  {{/demo.example}}

  {{demo.snippet 'inline-optional-email-form-field.hbs'}}
{{/docs-demo}}

{{#docs-demo as |demo|}}
  <div class="demo-heading">
    <h3><code>age</code></h3>
    <p>
      Required: {{this.user.age.isRequired}}<br>
      Value: {{this.user.age.value}}<br>
      Validity: {{this.user.age.validity.type}}<br>
    </p>
  </div>
  {{#demo.example name='inline-required-number-form-field.hbs'}}
    <FormField
        @label='Age (18 or older)'
        @model={{this.user.age}}
        @onChange={{action this.handleChange 'age'}}
        @labelClass='label'
        @inputClass='input'
        @errorClass='error'
    />
  {{/demo.example}}

  {{demo.snippet 'inline-required-number-form-field.hbs'}}
{{/docs-demo}}

<h2>Block form</h2>

{{#docs-demo as |demo|}}
  <div class="demo-heading">
    <h3><code>name</code></h3>
    <p>
      Required: {{this.user.name.isRequired}}<br>
      Value: {{this.user.name.value}}<br>
      Validity: {{this.user.name.validity.type}}<br>
    </p>
  </div>

  {{#demo.example name='block-required-text-form-field.hbs'}}
    <FormField
        @label='Name'
        @model={{this.user.name}}
        @onInput={{action this.handleInput 'name'}}
        as |field|
    >
      <label class='label'>
        {{field.label}}
        <input
            type={{field.type}}
            oninput={{field.onInput}}
            value={{field.model.value}}
            class='input'
        />

        {{#if field.isInvalid}}
          <span class='error'>{{field.error}}</span>
        {{/if}}
      </label>
    </FormField>
  {{/demo.example}}

  {{demo.snippet 'block-required-text-form-field.hbs'}}
{{/docs-demo}}

{{!--
DISCUSS: It seems we only need both change and input for text fields that have format requirements.
We want "lazy" validation while they're filling the field out the first time, but we want "eager"
validation when they leave the field, i.e. on change. Let's consider calling that out in docs.
--}}
{{#docs-demo as |demo|}}
  <div class="demo-heading">
    <h3><code>email</code> (required)</h3>
    <p>
      Required: {{this.user.emailReq.isRequired}}<br>
      Value: {{this.user.emailReq.value}}<br>
      Validity: {{this.user.emailReq.validity.type}}<br>
    </p>
  </div>

  {{#demo.example name='required-email-form-field.hbs'}}
    <FormField
        @label='Email (Required)'
        @model={{this.user.emailReq}}
        @onChange={{action this.handleChange 'emailReq'}}
        @onInput={{action this.handleInput 'emailReq'}}
        as |field|
    >
      <label class='label'>
        {{field.label}}
        <input
            type={{field.model.type}}
            onchange={{field.onChange}}
            oninput={{field.onInput}}
            class='input'
            value={{field.model.value}}
        />

        {{#if field.isInvalid}}
          <span class='error'>{{field.error}}</span>
        {{/if}}
      </label>
    </FormField>
  {{/demo.example}}

  {{demo.snippet 'required-email-form-field.hbs'}}
{{/docs-demo}}

{{#docs-demo as |demo|}}
  <div class="demo-heading">
    <h3><code>email</code> (optional)</h3>
    <p>
      Required: {{this.user.emailOpt.isRequired}}<br>
      Value: {{this.user.emailOpt.value}}<br>
      Validity: {{this.user.emailOpt.validity.type}}<br>
    </p>
  </div>

  {{#demo.example name='optional-email-form-field.hbs'}}
    <FormField
        @label='Email (Optional)'
        @model={{this.user.emailOpt}}
        @onInput={{action this.handleInput 'emailOpt'}}
        as |field|
    >
      <label class='label'>
        {{field.label}}
        <input
            type={{field.model.type}}
            oninput={{field.onInput}}
            value={{field.model.value}}
            class='input'
        />

        {{#if field.isInvalid}}
          <span class='error'>{{field.error}}</span>
        {{/if}}
      </label>
    </FormField>
  {{/demo.example}}

  {{demo.snippet 'optional-email-form-field.hbs'}}
{{/docs-demo}}

{{#docs-demo as |demo|}}
  <div class="demo-heading">
    <h3><code>age</code></h3>
    <p>
      Required: {{this.user.age.isRequired}}<br>
      Value: {{this.user.age.value}}<br>
      Validity: {{this.user.age.validity.type}}<br>
    </p>
  </div>

  {{#demo.example name='required-number-form-field.hbs'}}
    <FormField
        @label='Age (18 or older)'
        @model={{this.user.age}}
        @onChange={{action this.handleChange 'age'}}
        @onInput={{action this.handleInput 'age'}}
        as |field|
    >
      <label class='label'>
        {{field.label}}
        <input
            type={{field.model.type}}
            onchange={{field.onChange}}
            value={{field.model.value}}
            class='input'
        />

        {{#if field.isInvalid}}
          <span class='error'>{{field.error}}</span>
        {{/if}}
      </label>
    </FormField>
  {{/demo.example}}

  {{demo.snippet 'required-number-form-field.hbs'}}
{{/docs-demo}}